{% extends "layout.html" %}

{% block title %} Update Net Worth {% endblock %}

{% block content %}

<h1>Update Account Balances</h1>

<form method="post">
    <input type="hidden" name="bulk_update" value="1">

    <h2>Assets</h2>
    <table>
        <thead>
            <tr>
                <td>Account</td>
                <td>Balance</td>
                <td>Last Updated</td>
                <td>New Balance</td>
            </tr>
        </thead>
        <tbody>
            {% for a in assets %}
            <tr>
                <td>{{ a.name }}</td>
                <td>{{ a.balance |usd }}</td>
                <td> {{ a.last_updated | localtime(timezone) }}</td>
                <td>
                    <input type="number" step="0.01" name="account_{{ a.id }}" value="{{ a.balance }}">
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>Liabilities</h2>
    <table>
        <thead>
            <tr>
                <td>Account</td>
                <td>Balance</td>
                <td>Last Updated</td>
                <td>New Balance</td>
            </tr>
        </thead>
        <tbody>
            {% for l in liabilities %}
            <tr>
                <td>{{ l.name }}</td>
                <td>{{ l.balance |usd }}</td>
                <td> {{ l.last_updated | localtime(timezone) }}</td>
                <td>
                    <input type="number" step="0.01" name="account_{{ l.id }}" value="{{ l.balance }}">
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <button type="submit">Update All Changes</button>
</form>

<!--
<h2>Assets</h2>
    <table>
        <thead>
            <tr>
                <th>Account</th>
                <th>Balance</th>
                <th>Last Updated</th>
                <th>New Balance</th>
            </tr>
        </thead>
        <tbody>
            {% for a in assets %}
            <tr>
                <td>{{ a.name }}</td>
                <td>{{ a.balance | usd }}</td>
                <td>{{ a.last_updated | localtime(timezone)}}</td>
                <td>
                    <form method="post">
                        <input type="hidden" name="account_id" value="{{ a.id }}">
                        <input type="number" step="0.01" name="balance" value="{{ a.balance }}">
                        <button type="submit">Update</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>


<h2>Liabilities</h2>
    <table>
        <thead>
            <tr>
                <th>Account</th>
                <th>Balance</th>
                <th>Last Updated</th>
                <th>New Balance</th>
            </tr>
        </thead>
        <tbody>
            {% for l in liabilities %}
            <tr>
                <td>{{ l.name }}</td>
                <td>{{ l.balance | usd }}</td>
                <td>{{ l.last_updated | localtime(timezone)}}</td>
                <td>
                    <form method="post">
                        <input type="hidden" name="account_id" value="{{ l.id }}">
                        <input type="number" step="0.01" name="balance" value="{{ l.balance }}">
                        <button type="submit">Update</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
-->


{% endblock %}