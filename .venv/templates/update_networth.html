{% extends "layout.html" %}

{% block title %} Update Net Worth {% endblock %}

{% block content %}

<div class="desktop-container">
    <form method="post">
        <div style="display:flex; gap:20px;">
            <h1>Update Account Balances</h1><button class="btn main-btn" type="submit">Update All Changes</button>
            <input type="hidden" name="bulk_update" value="1">
        </div>

        <h2 class="green-text" style="margin: 15px 0;">Assets</h2>
        <table>
            <thead>
                <tr>
                    <td>Account</td>
                    <td>Balance</td>
                    <td>Last Updated</td>
                    <td>New Balance</td>
                </tr>
            </thead>
            <tbody>
                {% for a in assets %}
                <tr>
                    <td>{{ a.name }}</td>
                    <td style="font-weight: 700; color:var(--main-green);">{{ a.balance |usd }}</td>
                    <td> {{ a.last_updated | localtime(timezone) }}</td>
                    <td>
                        <input type="number" step="0.01" name="account_{{ a.id }}" value="{{ a.balance }}">
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h2 class="green-text" style="margin: 15px 0;">Liabilities</h2>
        <table>
            <thead>
                <tr>
                    <td>Account</td>
                    <td>Balance</td>
                    <td>Last Updated</td>
                    <td>New Balance</td>
                </tr>
            </thead>
            <tbody>
                {% for l in liabilities %}
                <tr>
                    <td>{{ l.name }}</td>
                    <td style="font-weight: 700;color:var(--main-green);">{{ l.balance |usd }}</td>
                    <td> {{ l.last_updated | localtime(timezone) }}</td>
                    <td>
                        <input type="number" step="0.01" name="account_{{ l.id }}" value="{{ l.balance }}">
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </form>
</div>

{% endblock %}