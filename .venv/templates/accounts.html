{% extends "layout.html" %}

{% block title %} Accounts {% endblock %}

{% block content %}

<h1>Your accounts</h1><a href="{{ url_for('account') }}">Add new account</a>
<h2>Assets</h2>
<table>
    <tr>
        <th>Name</th>
        <th>Category</th>
        <th>Balance</th>
        <th>Last Updated</th>
        <th>Visit account</th>
        <th>Actions</th>
    </tr>
    {% for a in assets %}
    <tr>
        <td>{{ a.name }}</td>
        <td>{{ a.category }}</td>
        <td>{{ a.balance | usd }}</td>
        <td>{{ a.last_updated }}</td>
        <td><a target="_blank" href="{{ a.url }}">Go to website</a></td>
        <td>
            <!-- Edit link -->
            <a href="{{ url_for('account', account_id=a.id) }}">Edit</a>

            <!-- Safe Delete form -->
            <form action="{{ url_for('delete', account_id=a.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this account?');">
                    Delete
                </button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<h2>Liabilities</h2>
<table>
    <tr>
        <th>Name</th>
        <th>Category</th>
        <th>Balance</th>
        <th>Last Updated</th>
        <th>Visit account</th>
        <th>Actions</th>
    </tr>
    {% for l in liabilities %}
    <tr>
        <td>{{ l.name }}</td>
        <td>{{ l.category }}</td>
        <td>{{ l.balance | usd }}</td>
        <td>{{ l.last_updated }}</td>
        <td><a target="_blank" href="{{ l.url }}">Go to website</a></td>
        <td>
            <!-- Edit link -->
            <a href="{{ url_for('account', account_id=l.id) }}">Edit</a>

            <!-- Safe Delete form -->
            <form action="{{ url_for('delete', account_id=l.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this account?');">
                    Delete
                </button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
