{% extends "layout.html" %}

{% block title %} Accounts {% endblock %}

{% block content %}

<h1>Accounts</h1>
<table>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Balance</th>
        <th>Last Updated</th>
        <th>Actions</th>
    </tr>
    {% for account in accounts %}
    <tr>
        <td>{{ account.name }}</td>
        <td>{{ account.type }}</td>
        <td>{{ account.balance | usd }}</td>
        <td>{{ account.last_updated }}</td>
        <td>
            <!-- Edit link -->
            <a href="{{ url_for('account', account_id=account.id) }}">Edit</a>

            <!-- Safe Delete form -->
            <form action="{{ url_for('delete', account_id=account.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this account?');">
                    Delete
                </button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
<br>
<a href="{{ url_for('account') }}">Add new account</a>
{% endblock %}
